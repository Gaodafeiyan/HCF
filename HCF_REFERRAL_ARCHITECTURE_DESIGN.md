# ğŸ”— HCFæ¨èç³»ç»Ÿæ¶æ„è®¾è®¡æ–‡æ¡£

## ğŸ“‹ è®¾è®¡æ¦‚è§ˆ

HCFæ¨èç³»ç»Ÿæ˜¯ä¸€ä¸ªå®Œæ•´çš„å¤šå±‚æ¨èå¥–åŠ±æœºåˆ¶ï¼ŒåŒ…å«20çº§æ¨èä½“ç³»å’ŒV1-V6å›¢é˜Ÿç­‰çº§ç³»ç»Ÿï¼Œæ—¨åœ¨æ¿€åŠ±ç”¨æˆ·æ¨å¹¿å’Œå»ºç«‹é•¿æœŸçš„æ¨èå…³ç³»ç½‘ç»œã€‚

---

## ğŸ—ï¸ æ¶æ„ç»„æˆ

### **1. æ ¸å¿ƒåˆçº¦: HCFReferral.sol**

```solidity
contract HCFReferral {
    // 20çº§æ¨èä½“ç³» (20%~2% é€’å‡)
    // V1-V6å›¢é˜Ÿç­‰çº§ (6%-36% å›¢é˜Ÿå¥–åŠ±)
    // ç›´æ¨è§£é”æœºåˆ¶
    // æ¨èç‡ƒçƒ§æœºåˆ¶
}
```

### **2. æ•°æ®ç»“æ„è®¾è®¡**

#### **ç”¨æˆ·æ•°æ®ç»“æ„**
```solidity
struct UserData {
    address referrer;           // æ¨èäºº
    uint256 directCount;        // ç›´æ¨äººæ•°
    uint256 teamLevel;          // å›¢é˜Ÿç­‰çº§ (V1-V6)
    uint256 personalVolume;     // ä¸ªäººä¸šç»©
    uint256 teamVolume;         // å›¢é˜Ÿä¸šç»©
    uint256 totalReferralReward; // ç´¯è®¡æ¨èå¥–åŠ±
    uint256 totalTeamReward;    // ç´¯è®¡å›¢é˜Ÿå¥–åŠ±
    bool isActive;              // æ˜¯å¦æ¿€æ´»
    uint256 joinTime;           // åŠ å…¥æ—¶é—´
    uint256 lastRewardTime;     // æœ€åå¥–åŠ±æ—¶é—´
}
```

#### **å›¢é˜Ÿç­‰çº§é…ç½®**
```solidity
struct TeamLevelConfig {
    uint256 directRequirement;    // ç›´æ¨è¦æ±‚
    uint256 teamVolumeRequirement; // å›¢é˜Ÿä¸šç»©è¦æ±‚
    uint256 rewardRate;           // å›¢é˜Ÿå¥–åŠ±ç‡
    bool unlockRequired;          // æ˜¯å¦éœ€è¦è§£é”
}
```

---

## ğŸ¯ åŠŸèƒ½æ¨¡å—è¯¦è§£

### **1. 20çº§æ¨èä½“ç³»**

#### **æ¨èè´¹ç‡åˆ†é…**
```
çº§åˆ« 1:  20.0% å¥–åŠ±
çº§åˆ« 2:  18.1% å¥–åŠ±
çº§åˆ« 3:  16.2% å¥–åŠ±
çº§åˆ« 4:  14.3% å¥–åŠ±
çº§åˆ« 5:  12.4% å¥–åŠ±
...é€’å‡...
çº§åˆ« 19: 3.8% å¥–åŠ±  
çº§åˆ« 20: 2.9% å¥–åŠ±
```

#### **å¥–åŠ±åˆ†å‘æœºåˆ¶**
```javascript
// ä¼ªä»£ç é€»è¾‘
function distributeReferralRewards(user, rewardAmount) {
    address currentReferrer = users[user].referrer;
    
    for (level = 1; level <= 20 && currentReferrer != 0; level++) {
        if (users[currentReferrer].isActive) {
            uint256 reward = (rewardAmount * referralRates[level]) / 10000;
            uint256 burnAmount = (reward * referralBurnRate) / 10000;
            uint256 netReward = reward - burnAmount;
            
            // å‘æ”¾å‡€å¥–åŠ±
            transfer(currentReferrer, netReward);
            // ç‡ƒçƒ§éƒ¨åˆ†
            transfer(BURN_ADDRESS, burnAmount);
        }
        currentReferrer = users[currentReferrer].referrer;
    }
}
```

### **2. V1-V6å›¢é˜Ÿç­‰çº§ç³»ç»Ÿ**

#### **å›¢é˜Ÿç­‰çº§è¦æ±‚**
```
V1çº§åˆ«: 3ä¸ªç›´æ¨ + 10,000 HCFå›¢é˜Ÿä¸šç»© â†’ 6% å›¢é˜Ÿå¥–åŠ±
V2çº§åˆ«: 5ä¸ªç›´æ¨ + 50,000 HCFå›¢é˜Ÿä¸šç»© â†’ 12% å›¢é˜Ÿå¥–åŠ±  
V3çº§åˆ«: 8ä¸ªç›´æ¨ + 100,000 HCFå›¢é˜Ÿä¸šç»© â†’ 18% å›¢é˜Ÿå¥–åŠ±
V4çº§åˆ«: 12ä¸ªç›´æ¨ + 500,000 HCFå›¢é˜Ÿä¸šç»© â†’ 24% å›¢é˜Ÿå¥–åŠ±
V5çº§åˆ«: 20ä¸ªç›´æ¨ + 1,000,000 HCFå›¢é˜Ÿä¸šç»© â†’ 30% å›¢é˜Ÿå¥–åŠ±
V6çº§åˆ«: 30ä¸ªç›´æ¨ + 5,000,000 HCFå›¢é˜Ÿä¸šç»© â†’ 36% å›¢é˜Ÿå¥–åŠ±
```

#### **å›¢é˜Ÿä¸šç»©è®¡ç®—**
```javascript
// é€’å½’è®¡ç®—å›¢é˜Ÿæ€»ä¸šç»©
function calculateTeamVolume(user) {
    uint256 totalVolume = users[user].personalVolume;
    
    // éå†æ‰€æœ‰ç›´æ¨ç”¨æˆ·
    for (each directReferral) {
        totalVolume += calculateTeamVolumeRecursive(directReferral, depth);
    }
    
    return totalVolume;
}
```

### **3. ç”¨æˆ·æ¿€æ´»æœºåˆ¶**

#### **æ¿€æ´»æ¡ä»¶**
```
è´¨æŠ¼è¦æ±‚: â‰¥100 HCF
æ¿€æ´»æµç¨‹:
1. ç”¨æˆ·è´¨æŠ¼è¾¾åˆ°æœ€ä½è¦æ±‚
2. è°ƒç”¨ activateUser() å‡½æ•°
3. ç³»ç»ŸéªŒè¯è´¨æŠ¼é‡‘é¢
4. è®¾ç½®æ¿€æ´»çŠ¶æ€å’Œæ—¶é—´
5. è‡ªåŠ¨æ£€æŸ¥å›¢é˜Ÿç­‰çº§å‡çº§
```

#### **æ¨èäººç»‘å®š**
```javascript
function setReferrer(referrer) {
    require(referrer != msg.sender, "Cannot refer yourself");
    require(users[msg.sender].referrer == address(0), "Already has referrer");
    require(users[referrer].isActive, "Referrer not activated");
    require(!isCircularReferral(msg.sender, referrer), "Circular referral detected");
    
    users[msg.sender].referrer = referrer;
    directReferrals[referrer].push(msg.sender);
    users[referrer].directCount++;
}
```

### **4. ç‡ƒçƒ§æœºåˆ¶**

#### **ç‡ƒçƒ§å‚æ•°**
```
æ¨èå¥–åŠ±ç‡ƒçƒ§ç‡: 10% (referralBurnRate = 1000)
å›¢é˜Ÿå¥–åŠ±ç‡ƒçƒ§ç‡: 5% (teamBurnRate = 500)
ç‡ƒçƒ§åœ°å€: 0x000000000000000000000000000000000000dEaD
```

#### **ç‡ƒçƒ§æ‰§è¡Œ**
```javascript
// æ¯æ¬¡å¥–åŠ±åˆ†å‘æ—¶è‡ªåŠ¨æ‰§è¡Œç‡ƒçƒ§
uint256 burnAmount = (reward * burnRate) / 10000;
uint256 netReward = reward - burnAmount;

// å‘æ”¾å‡€å¥–åŠ±ç»™ç”¨æˆ·
hcfToken.transfer(user, netReward);
// ç‡ƒçƒ§é”€æ¯éƒ¨åˆ†
hcfToken.transfer(BURN_ADDRESS, burnAmount);

emit RewardBurned(user, burnAmount, rewardType);
```

---

## ğŸ”— ç³»ç»Ÿé›†æˆ

### **1. ä¸HCFStakingé›†æˆ**

```solidity
// HCFStakingè°ƒç”¨æ¨èå¥–åŠ±åˆ†å‘
function claimRewards() external {
    uint256 reward = calculateReward(msg.sender);
    
    // å‘æ”¾åŸºç¡€å¥–åŠ±
    _mintReward(msg.sender, reward);
    
    // è§¦å‘æ¨èå¥–åŠ±åˆ†å‘
    if (address(referralContract) != address(0)) {
        referralContract.distributeReferralRewards(msg.sender, reward);
        referralContract.distributeTeamRewards(msg.sender, reward);
    }
}
```

### **2. ä¸HCFRankingé›†æˆ**

```javascript
// å¤åˆå¥–åŠ±è®¡ç®—ç¤ºä¾‹
æ€»å¥–åŠ± = åŸºç¡€å¥–åŠ± Ã— (1 + æ¨èåŠ æˆ + æ’ååŠ æˆ + å‘¨æœŸå€æ•° + LPå¢å¼º)

ç¤ºä¾‹:
åŸºç¡€å¥–åŠ±: 100 HCF
æ¨èå¥–åŠ±: 100 Ã— 20% = 20 HCF (1çº§æ¨è)
æ’ååŠ æˆ: 100 Ã— 20% = 20 HCF (å‰100å)
å‘¨æœŸå€æ•°: 100 Ã— 100 = 10000 HCF (å‘¨æœŸæ¿€æ´»)
LPå¢å¼º: 100 Ã— 4 = 400 HCF (LPç”¨æˆ·)

ç”¨æˆ·æœ€ç»ˆæ”¶åˆ°: 100 HCF (åŸºç¡€)
æ¨èäººæ”¶åˆ°: 20 HCF (æ¨èå¥–åŠ±)
å‘¨æœŸå¥–åŠ±: 10000 HCF (é¢å¤–)
LPå¢å¼º: 400 HCF (é¢å¤–)
```

---

## ğŸ“Š ç»æµæ¨¡å‹åˆ†æ

### **1. å¥–åŠ±åˆ†é…æ¯”ä¾‹**

```
æ€»å¥–åŠ±æ± åˆ†é…:
â”œâ”€ ç”¨æˆ·åŸºç¡€å¥–åŠ±: 60%
â”œâ”€ æ¨èå¥–åŠ±: 25% (20çº§åˆ†é…)
â”œâ”€ å›¢é˜Ÿå¥–åŠ±: 10% (V1-V6åˆ†é…)
â””â”€ ç‡ƒçƒ§é”€æ¯: 5%
```

### **2. ç‡ƒçƒ§é€šç¼©æœºåˆ¶**

```
æ¯æ—¥é¢„æœŸç‡ƒçƒ§:
â”œâ”€ æ¨èå¥–åŠ±ç‡ƒçƒ§: æ€»æ¨èå¥–åŠ±çš„10%
â”œâ”€ å›¢é˜Ÿå¥–åŠ±ç‡ƒçƒ§: æ€»å›¢é˜Ÿå¥–åŠ±çš„5%
â”œâ”€ é¢„ä¼°æ—¥ç‡ƒçƒ§é‡: ~1000 HCF
â””â”€ å¹´åŒ–ç‡ƒçƒ§é‡: ~365,000 HCF (çº¦0.037%æ€»ä¾›åº”é‡)
```

### **3. æ¿€åŠ±å¹³è¡¡åˆ†æ**

```
æ¨èæ¿€åŠ±å¼ºåº¦:
â”œâ”€ 1çº§æ¨è20%: å¼ºæ¿€åŠ±ç›´æ¨
â”œâ”€ 2-5çº§15-10%: ä¸­ç­‰æ¿€åŠ±å»ºå›¢é˜Ÿ  
â”œâ”€ 6-20çº§10-3%: å¼±æ¿€åŠ±æ·±åº¦æ¨è
â””â”€ å›¢é˜Ÿå¥–åŠ±6-36%: è¶…å¼ºæ¿€åŠ±å¤§å›¢é˜Ÿ

ç»æµå¹³è¡¡ç‚¹:
â”œâ”€ æ¨èç”¨æˆ·éœ€æ¿€æ´»è´¨æŠ¼: é˜²æ­¢åˆ·é‡
â”œâ”€ å›¢é˜Ÿä¸šç»©è¦æ±‚é€’å¢: é˜²æ­¢ç­‰çº§é€šèƒ€
â”œâ”€ ç‡ƒçƒ§æœºåˆ¶: ç»´æŒä»£å¸ç¨€ç¼ºæ€§
â””â”€ ç­‰çº§è§£é”: é˜²æ­¢å¿«é€Ÿå‡çº§
```

---

## ğŸ§ª æµ‹è¯•ç­–ç•¥

### **1. å•å…ƒæµ‹è¯•è¦†ç›–**

```javascript
âœ… æ¨èå…³ç³»ç»‘å®šæµ‹è¯•
â”œâ”€ æœ‰æ•ˆæ¨èäººè®¾ç½®
â”œâ”€ æ— æ•ˆåœºæ™¯æ‹’ç» (è‡ªæ¨èã€å¾ªç¯æ¨è)
â”œâ”€ æ¨èäººæ¿€æ´»çŠ¶æ€æ£€æŸ¥
â””â”€ é‡å¤ç»‘å®šé˜²æŠ¤

âœ… 20çº§å¥–åŠ±åˆ†å‘æµ‹è¯•  
â”œâ”€ å¥–åŠ±è´¹ç‡æ­£ç¡®è®¡ç®—
â”œâ”€ 20çº§é“¾æ¡å®Œæ•´åˆ†å‘
â”œâ”€ ç‡ƒçƒ§æœºåˆ¶æ­£ç¡®æ‰§è¡Œ
â””â”€ éæ¿€æ´»ç”¨æˆ·è·³è¿‡

âœ… å›¢é˜Ÿç­‰çº§ç³»ç»Ÿæµ‹è¯•
â”œâ”€ V1-V6ç­‰çº§å‡çº§æ¡ä»¶
â”œâ”€ å›¢é˜Ÿä¸šç»©é€’å½’è®¡ç®—
â”œâ”€ å›¢é˜Ÿå¥–åŠ±æ­£ç¡®åˆ†å‘
â””â”€ ç­‰çº§å¥–åŠ±å·®å¼‚åŒ–

âœ… æ¿€æ´»æœºåˆ¶æµ‹è¯•
â”œâ”€ è´¨æŠ¼è¦æ±‚éªŒè¯
â”œâ”€ æ¿€æ´»çŠ¶æ€ç®¡ç†
â”œâ”€ é‡å¤æ¿€æ´»é˜²æŠ¤
â””â”€ æ¿€æ´»æ—¶é—´è®°å½•
```

### **2. é›†æˆæµ‹è¯•åœºæ™¯**

```javascript
âœ… å®Œæ•´ç”¨æˆ·ç”Ÿå‘½å‘¨æœŸ
â””â”€ æ³¨å†Œâ†’ç»‘å®šæ¨èâ†’è´¨æŠ¼â†’æ¿€æ´»â†’è·å¾—å¥–åŠ±â†’å›¢é˜Ÿå‡çº§

âœ… å¤åˆå¥–åŠ±è®¡ç®—
â””â”€ æ¨èå¥–åŠ± + æ’ååŠ æˆ + å‘¨æœŸå€æ•° + LPå¢å¼º

âœ… å¤§è§„æ¨¡æ¨èç½‘ç»œ
â””â”€ 1000+ç”¨æˆ·æ¨èç½‘ç»œå‹åŠ›æµ‹è¯•

âœ… è·¨åˆçº¦äº¤äº’
â””â”€ Staking â†” Referral â†” Ranking æ— ç¼é›†æˆ
```

---

## âš™ï¸ ç®¡ç†å‘˜åŠŸèƒ½

### **1. å‚æ•°é…ç½®**

```solidity
// æ¨èè´¹ç‡è°ƒæ•´
function updateReferralRate(uint256 level, uint256 rate) external onlyOwner;

// å›¢é˜Ÿç­‰çº§é…ç½®
function updateTeamLevelConfig(
    uint256 level,
    uint256 directRequirement,
    uint256 teamVolumeRequirement,
    uint256 rewardRate,
    bool unlockRequired
) external onlyOwner;

// ç‡ƒçƒ§ç‡è°ƒæ•´
function updateBurnRates(uint256 _referralBurnRate, uint256 _teamBurnRate) external onlyOwner;

// æ¿€æ´»è¦æ±‚è°ƒæ•´
function updateActivationStakeAmount(uint256 amount) external onlyOwner;
```

### **2. æŸ¥è¯¢åŠŸèƒ½**

```solidity
// ç”¨æˆ·æ•°æ®æŸ¥è¯¢
function getUserData(address user) external view returns (UserData memory);

// æ¨èè·¯å¾„æŸ¥è¯¢
function getReferralPath(address user) external view returns (address[] memory);

// æ½œåœ¨å¥–åŠ±è®¡ç®—
function calculatePotentialReferralReward(address user, uint256 baseReward) external view returns (uint256);
function calculatePotentialTeamReward(address user, uint256 baseReward) external view returns (uint256);
```

---

## ğŸ”’ å®‰å…¨æœºåˆ¶

### **1. é˜²æŠ¤æªæ–½**

```
âœ… å¾ªç¯æ¨èæ£€æµ‹: é˜²æ­¢Aâ†’Bâ†’Câ†’Aå¾ªç¯
âœ… é‡å¤æ¿€æ´»é˜²æŠ¤: é˜²æ­¢é‡å¤æ¿€æ´»åˆ·å¥–åŠ±
âœ… æ¨èäººçŠ¶æ€éªŒè¯: åªèƒ½ç»‘å®šæ¿€æ´»ç”¨æˆ·
âœ… æƒé™æ§åˆ¶: Owneræ‰èƒ½ä¿®æ”¹ç³»ç»Ÿå‚æ•°
âœ… é‡å…¥æ”»å‡»é˜²æŠ¤: ReentrancyGuardä¿æŠ¤
âœ… æ•´æ•°æº¢å‡ºé˜²æŠ¤: SafeMathå’Œæœ€æ–°Solidity
```

### **2. é™åˆ¶æœºåˆ¶**

```
âœ… æœ€å¤§æ¨èç­‰çº§: 20çº§é™åˆ¶ (é˜²æ­¢æ— é™é€’å½’)
âœ… æœ€å¤§å›¢é˜Ÿç­‰çº§: V6çº§é™åˆ¶ (é˜²æ­¢ç­‰çº§é€šèƒ€)
âœ… ç‡ƒçƒ§ç‡ä¸Šé™: 50%æœ€é«˜ç‡ƒçƒ§ç‡
âœ… å¥–åŠ±ç‡ä¸Šé™: æ¨èæœ€é«˜30%ï¼Œå›¢é˜Ÿæœ€é«˜50%
âœ… é€’å½’æ·±åº¦é™åˆ¶: é˜²æ­¢æ— é™é€’å½’è®¡ç®—
```

---

## ğŸ“ˆ é¢„æœŸæ•ˆæœ

### **1. ç”¨æˆ·å¢é•¿æ•ˆåº”**

```
æ¨èæ¿€åŠ± â†’ ç”¨æˆ·ä¸»åŠ¨æ¨å¹¿ â†’ æ–°ç”¨æˆ·æ³¨å†Œ â†’ è´¨æŠ¼æ¿€æ´» â†’ å¥–åŠ±åˆ†å‘ â†’ æ›´å¤šæ¨å¹¿åŠ¨åŠ›

é¢„æœŸå¢é•¿:
â”œâ”€ æœˆæ–°å¢ç”¨æˆ·: +2000 (é€šè¿‡æ¨è)
â”œâ”€ æ´»è·ƒæ¨èè€…: 500+ (ç§¯ææ¨èç”¨æˆ·)
â”œâ”€ å¤§å›¢é˜Ÿé¢†è¢–: 50+ (V3+ç­‰çº§ç”¨æˆ·)
â””â”€ æ¨èç½‘ç»œæ·±åº¦: å¹³å‡8-12çº§
```

### **2. ä»£å¸ç»æµæ•ˆåº”**

```
ç‡ƒçƒ§é€šç¼© â†’ ä»£å¸ç¨€ç¼ºæ€§æå‡ â†’ ä»·å€¼æå‡ â†’ æ¨èæ¿€åŠ±å¢å¼º â†’ æ›´å¤šç”¨æˆ·å‚ä¸

ç»æµå¾ªç¯:
â”œâ”€ æ—¥ç‡ƒçƒ§é‡: ~1000 HCF
â”œâ”€ æœˆç‡ƒçƒ§é‡: ~30,000 HCF  
â”œâ”€ å¹´é€šç¼©ç‡: ~3.65% (æŒç»­é™ä½ä¾›åº”é‡)
â””â”€ ä»·å€¼æå‡: æ¨èå¥–åŠ±å®é™…ä»·å€¼å¢åŠ 
```

---

## ğŸš€ éƒ¨ç½²è®¡åˆ’

### **1. éƒ¨ç½²é¡ºåº**

```
ç¬¬1æ­¥: éƒ¨ç½²HCFReferralåˆçº¦
ç¬¬2æ­¥: åœ¨HCFStakingä¸­è®¾ç½®referralContractåœ°å€
ç¬¬3æ­¥: è®¾ç½®åˆå§‹æ¨èè´¹ç‡å’Œå›¢é˜Ÿç­‰çº§é…ç½®
ç¬¬4æ­¥: å¯ç”¨æ¨èåŠŸèƒ½
ç¬¬5æ­¥: å¼€å§‹æ¨èç³»ç»Ÿè¿è¥
```

### **2. åˆå§‹é…ç½®**

```javascript
// æ¨èè´¹ç‡: 20çº§é€’å‡ (20%â†’2%)
// å›¢é˜Ÿç­‰çº§: V1-V6 (6%â†’36%)
// ç‡ƒçƒ§ç‡: æ¨è10%, å›¢é˜Ÿ5%
// æ¿€æ´»è¦æ±‚: 100 HCFè´¨æŠ¼
```

---

**æ€»ç»“**: HCFæ¨èç³»ç»Ÿé€šè¿‡20çº§æ¨èä½“ç³»å’ŒV1-V6å›¢é˜Ÿç­‰çº§æœºåˆ¶ï¼Œåˆ›å»ºäº†å¼ºæ¿€åŠ±çš„ç”¨æˆ·æ¨å¹¿ç½‘ç»œï¼ŒåŒæ—¶é€šè¿‡ç‡ƒçƒ§æœºåˆ¶ç»´æŒä»£å¸é€šç¼©ï¼Œå½¢æˆå¯æŒç»­çš„å¢é•¿é£è½®æ•ˆåº”ã€‚

---

*æœ¬æ¶æ„è®¾è®¡ç¡®ä¿äº†æ¨èç³»ç»Ÿçš„å®Œæ•´æ€§ã€å®‰å…¨æ€§å’Œå¯æ‰©å±•æ€§ï¼Œä¸ºHCFé¡¹ç›®çš„é•¿æœŸå‘å±•å¥ å®šåšå®åŸºç¡€ã€‚*