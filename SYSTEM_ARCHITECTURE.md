# HCF DeFi ç³»ç»Ÿæ¶æ„ä¸åŠŸèƒ½æ¸…å•

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ç”¨æˆ·ç•Œé¢å±‚                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚  DApp    â”‚  â”‚  ç®¡ç†åå°  â”‚  â”‚  ç§»åŠ¨ç«¯   â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚             â”‚             â”‚
        â–¼             â–¼             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¸­é—´å±‚ (API)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚         Node.js Backend API              â”‚          â”‚
â”‚  â”‚  â”œâ”€ æ•°æ®èšåˆ                             â”‚          â”‚
â”‚  â”‚  â”œâ”€ ç¼“å­˜ä¼˜åŒ–                             â”‚          â”‚
â”‚  â”‚  â””â”€ ç®¡ç†åŠŸèƒ½                             â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  åŒºå—é“¾å±‚ (BSC)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚           æ™ºèƒ½åˆçº¦é›†ç¾¤                     â”‚          â”‚
â”‚  â”‚  â”œâ”€ HCFToken (ä»£å¸)                      â”‚          â”‚
â”‚  â”‚  â”œâ”€ HCFStaking (è´¨æŠ¼)                    â”‚          â”‚
â”‚  â”‚  â”œâ”€ HCFReferral (æ¨è)                   â”‚          â”‚
â”‚  â”‚  â”œâ”€ HCFNodeNFT (èŠ‚ç‚¹)                    â”‚          â”‚
â”‚  â”‚  â”œâ”€ HCFBSDTExchange (æ¡¥æ¥)               â”‚          â”‚
â”‚  â”‚  â””â”€ HCFMarketControl (è°ƒæ§)              â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š åŠŸèƒ½åˆ†ç±»æ¸…å•

### 1. ğŸ”— çº¯é“¾ä¸ŠåŠŸèƒ½ï¼ˆä¸éœ€è¦åç«¯ï¼‰

#### 1.1 ç”¨æˆ·å¯ç›´æ¥è°ƒç”¨
| åŠŸèƒ½ | åˆçº¦ | å‡½æ•° | Gasè´¹ | è¯´æ˜ |
|------|------|------|-------|------|
| è½¬è´¦HCF | HCFToken | transfer() | ~0.001 BNB | åŒ…å«1%è½¬è´¦ç¨ |
| ä¹°å…¥HCF | PancakeSwap | swapBNBForTokens() | ~0.003 BNB | 2%ä¹°å…¥ç¨ |
| å–å‡ºHCF | PancakeSwap | swapTokensForBNB() | ~0.003 BNB | 5%å–å‡ºç¨ |
| è´¨æŠ¼HCF | HCFStaking | stake(poolId, amount) | ~0.002 BNB | é€‰æ‹©0-4æ±  |
| æå–æœ¬é‡‘ | HCFStaking | withdraw(poolId, amount) | ~0.002 BNB | éšæ—¶å¯å– |
| é¢†å–æ”¶ç›Š | HCFStaking | claimRewards() | ~0.001 BNB | æ¯æ—¥å¯é¢† |
| ç»‘å®šæ¨èäºº | HCFReferral | bindReferrer(address) | ~0.001 BNB | åªèƒ½ç»‘å®šä¸€æ¬¡ |
| ç”³è¯·èŠ‚ç‚¹ | HCFNodeNFT | applyForNode() | ~0.003 BNB | éœ€5000 BSDT |
| æ¿€æ´»èŠ‚ç‚¹ | HCFNodeNFT | activateNode(nodeId) | ~0.002 BNB | éœ€1000 HCF+LP |
| é¢†å–èŠ‚ç‚¹åˆ†çº¢ | HCFNodeNFT | claimNodeRewards() | ~0.001 BNB | æŒ‰ç®—åŠ›åˆ†é… |
| HCFæ¢BSDT | HCFBSDTExchange | swapHCFToBSDT(amount) | ~0.002 BNB | 1:1å…‘æ¢ |
| BSDTæ¢HCF | HCFBSDTExchange | swapBSDTToHCF(amount) | ~0.002 BNB | 1:1å…‘æ¢ |

#### 1.2 åªæœ‰Ownerå¯è°ƒç”¨
| åŠŸèƒ½ | åˆçº¦ | å‡½æ•° | æƒé™ | è¯´æ˜ |
|------|------|------|------|------|
| è®¾ç½®ä¹°å…¥ç¨ | HCFToken | setBuyTaxRate(rate) | Owner | æœ€é«˜10% |
| è®¾ç½®å–å‡ºç¨ | HCFToken | setSellTaxRate(rate) | Owner | æœ€é«˜10% |
| è®¾ç½®è½¬è´¦ç¨ | HCFToken | setTransferTaxRate(rate) | Owner | æœ€é«˜10% |
| æ›´æ–°æ—¥åŒ–ç‡ | HCFStaking | updateLevelRates(rates[]) | Owner | 5ä¸ªæ± çš„ç‡ |
| è®¾ç½®LPå€æ•° | HCFStaking | setLPMultiplier(multi) | Owner | LPå¥–åŠ±å€æ•° |
| è®¾ç½®æ¨èå¥–åŠ± | HCFReferral | setReferralRates(rates[]) | Owner | 20çº§å¥–åŠ± |
| è®¾ç½®å›¢é˜Ÿå¥–åŠ± | HCFReferral | setTeamRates(rates[]) | Owner | V1-V6å¥–åŠ± |
| è®¾ç½®èŠ‚ç‚¹è´¹ç”¨ | HCFNodeNFT | setApplicationFee(fee) | Owner | BSDTè´¹ç”¨ |
| è§¦å‘å¸‚åœºå¹²é¢„ | HCFMarketControl | triggerIntervention() | Owner | é˜²æš´è·Œ |
| æå–è¥é”€èµ„é‡‘ | HCFToken | withdrawMarketing(amount) | Owner | è¥é”€é’±åŒ… |

### 2. ğŸ’¾ éœ€è¦åç«¯æ”¯æŒçš„åŠŸèƒ½

#### 2.1 æ•°æ®æŸ¥è¯¢ç±»ï¼ˆä¼˜åŒ–æ€§èƒ½ï¼‰
| åŠŸèƒ½ | APIè·¯å¾„ | ç”¨é€” | ç¼“å­˜æ—¶é—´ |
|------|---------|------|----------|
| ç”¨æˆ·ç»Ÿè®¡ | GET /api/users/stats | æ€»ç”¨æˆ·æ•°ã€è´¨æŠ¼é‡ç­‰ | 5åˆ†é’Ÿ |
| è´¨æŠ¼æ’å | GET /api/ranking/staking | Top 100è´¨æŠ¼è€… | 10åˆ†é’Ÿ |
| æ¨èæ’å | GET /api/ranking/referral | Top 100æ¨èè€… | 10åˆ†é’Ÿ |
| èŠ‚ç‚¹æ’å | GET /api/ranking/nodes | èŠ‚ç‚¹ç®—åŠ›æ’å | 10åˆ†é’Ÿ |
| äº¤æ˜“å†å² | GET /api/users/:address/txs | ç”¨æˆ·äº¤æ˜“è®°å½• | 1åˆ†é’Ÿ |
| æ”¶ç›Šè®°å½• | GET /api/users/:address/rewards | å†å²æ”¶ç›Š | 5åˆ†é’Ÿ |
| ä»·æ ¼æ•°æ® | GET /api/price/hcf | HCFå®æ—¶ä»·æ ¼ | 30ç§’ |
| TVLæ•°æ® | GET /api/stats/tvl | æ€»é”ä»“ä»·å€¼ | 5åˆ†é’Ÿ |

#### 2.2 ç®¡ç†åŠŸèƒ½ç±»ï¼ˆéœ€è¦æƒé™ï¼‰
| åŠŸèƒ½ | APIè·¯å¾„ | æƒé™ | ç”¨é€” |
|------|---------|------|------|
| ç®¡ç†å‘˜ç™»å½• | POST /api/auth/login | Public | è·å–JWT |
| æŸ¥çœ‹ä»ªè¡¨ç›˜ | GET /api/operational/dashboard | Admin | æ•°æ®æ€»è§ˆ |
| å‘å¸ƒå…¬å‘Š | POST /api/announcement/create | Admin | å‰ç«¯å…¬å‘Š |
| è®¾ç½®ç»´æŠ¤æ¨¡å¼ | POST /api/settings/maintenance | Admin | æš‚åœå‰ç«¯ |
| å¯¼å‡ºæ•°æ® | GET /api/export/users | Admin | Excelå¯¼å‡º |
| æŸ¥çœ‹æ—¥å¿— | GET /api/logs | Admin | ç³»ç»Ÿæ—¥å¿— |
| ç›‘æ§å‘Šè­¦ | GET /api/monitoring/alerts | Admin | å¼‚å¸¸æé†’ |

### 3. ğŸ¨ çº¯å‰ç«¯åŠŸèƒ½

#### 3.1 é’±åŒ…äº¤äº’
| åŠŸèƒ½ | å®ç°æ–¹å¼ | åº“/å·¥å…· |
|------|----------|---------|
| è¿æ¥é’±åŒ… | Web3Modal | web3modal |
| åˆ‡æ¢ç½‘ç»œ | wallet_switchEthereumChain | ethers.js |
| æ·»åŠ ä»£å¸ | wallet_watchAsset | MetaMask API |
| ç­¾åæ¶ˆæ¯ | personal_sign | ethers.js |
| ç›‘å¬äº‹ä»¶ | contract.on('event') | ethers.js |

#### 3.2 æœ¬åœ°åŠŸèƒ½
| åŠŸèƒ½ | å­˜å‚¨ä½ç½® | ç”¨é€” |
|------|----------|------|
| ä¸»é¢˜åˆ‡æ¢ | localStorage | æ·±è‰²/æµ…è‰²æ¨¡å¼ |
| è¯­è¨€åˆ‡æ¢ | localStorage | ä¸­/è‹±æ–‡ |
| æ»‘ç‚¹è®¾ç½® | localStorage | äº¤æ˜“æ»‘ç‚¹å®¹å¿åº¦ |
| å†å²è®°å½• | IndexedDB | äº¤æ˜“å†å²ç¼“å­˜ |
| æ”¶è—åœ°å€ | localStorage | å¸¸ç”¨åœ°å€ç°¿ |

## ğŸ”„ æ ¸å¿ƒä¸šåŠ¡æµç¨‹

### æµç¨‹1ï¼šæ–°ç”¨æˆ·å…¥åœº
```
1. ç”¨æˆ·è®¿é—®DApp
2. è¿æ¥MetaMaské’±åŒ…
3. åˆ‡æ¢åˆ°BSCç½‘ç»œ
4. åœ¨PancakeSwapè´­ä¹°HCFï¼ˆ2%ç¨ï¼‰
5. é€‰æ‹©è´¨æŠ¼æ± (0-4)
6. è°ƒç”¨stake()å‡½æ•°è´¨æŠ¼
7. æ¯æ—¥claim()é¢†å–æ”¶ç›Š
8. å¯é€‰ï¼šç”³è¯·èŠ‚ç‚¹ï¼ˆéœ€5000 BSDTï¼‰
```

### æµç¨‹2ï¼šæ¨èå…³ç³»å»ºç«‹
```
1. è€ç”¨æˆ·åˆ†äº«æ¨èé“¾æ¥
2. æ–°ç”¨æˆ·ç‚¹å‡»é“¾æ¥
3. æ–°ç”¨æˆ·è¿æ¥é’±åŒ…
4. è°ƒç”¨bindReferrer()ç»‘å®š
5. æ–°ç”¨æˆ·è´¨æŠ¼å
6. æ¨èå¥–åŠ±è‡ªåŠ¨åˆ†é…ï¼ˆ20çº§ï¼‰
7. è¾¾åˆ°æ¡ä»¶å‡çº§å›¢é˜Ÿç­‰çº§(V1-V6)
```

### æµç¨‹3ï¼šèŠ‚ç‚¹è¿è¥
```
1. å‡†å¤‡5000 BSDT
2. è°ƒç”¨applyForNode()ç”³è¯·
3. è·å¾—èŠ‚ç‚¹NFT
4. å‡†å¤‡1000 HCF + 1000 LP
5. è°ƒç”¨activateNode()æ¿€æ´»
6. å¼€å§‹è·å¾—4ç§åˆ†çº¢ï¼š
   - æ»‘ç‚¹åˆ†çº¢
   - æ‰‹ç»­è´¹åˆ†çº¢
   - è´¨æŠ¼æ± 2%
   - é˜²æš´è·Œæ”¶ç›Š
7. å®šæœŸclaim()é¢†å–
```

### æµç¨‹4ï¼šç®¡ç†å‘˜æ“ä½œ
```
1. è®¿é—®/adminåå°
2. è¾“å…¥è´¦å·å¯†ç ç™»å½•
3. æŸ¥çœ‹æ•°æ®ä»ªè¡¨ç›˜
4. å¦‚éœ€ä¿®æ”¹é“¾ä¸Šå‚æ•°ï¼š
   a. é€€å‡ºåå°
   b. æ‰“å¼€BSCScan
   c. è¿æ¥Owneré’±åŒ…
   d. è°ƒç”¨å¯¹åº”å‡½æ•°
   e. æ”¯ä»˜Gasè´¹
   f. ç­‰å¾…ç¡®è®¤
5. å¦‚éœ€ä¿®æ”¹é“¾ä¸‹å‚æ•°ï¼š
   a. åœ¨åå°ç›´æ¥ä¿®æ”¹
   b. ç‚¹å‡»ä¿å­˜
   c. ç«‹å³ç”Ÿæ•ˆ
```

## ğŸ“ éƒ¨ç½²æ£€æŸ¥æ¸…å•

### åˆçº¦éƒ¨ç½²å‰
- [ ] è®¾ç½®æ­£ç¡®çš„Owneråœ°å€
- [ ] é…ç½®åˆå§‹ç¨ç‡(2%/5%/1%)
- [ ] è®¾ç½®è¥é”€é’±åŒ…åœ°å€
- [ ] é…ç½®PancakeSwapè·¯ç”±åœ°å€
- [ ] è®¾ç½®BSDTä»£å¸åœ°å€

### åˆçº¦éƒ¨ç½²å
- [ ] éªŒè¯åˆçº¦ä»£ç 
- [ ] æ·»åŠ åˆå§‹æµåŠ¨æ€§
- [ ] è®¾ç½®åˆç†çš„æ—¥åŒ–ç‡
- [ ] é…ç½®æ¨èå¥–åŠ±æ¯”ä¾‹
- [ ] è½¬ç§»Owneråˆ°å¤šç­¾é’±åŒ…

### åç«¯éƒ¨ç½²
- [ ] é…ç½®MongoDBè¿æ¥
- [ ] è®¾ç½®JWTå¯†é’¥
- [ ] é…ç½®BSC RPCèŠ‚ç‚¹
- [ ] è®¾ç½®åˆçº¦åœ°å€
- [ ] å¯åŠ¨å®šæ—¶ä»»åŠ¡

### å‰ç«¯éƒ¨ç½²
- [ ] é…ç½®åˆçº¦ABI
- [ ] è®¾ç½®åˆçº¦åœ°å€
- [ ] é…ç½®APIç«¯ç‚¹
- [ ] è®¾ç½®ç½‘ç»œID(56)
- [ ] æµ‹è¯•é’±åŒ…è¿æ¥

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æœ¬åœ°å¼€å‘
```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/yourname/hcf-defi.git

# 2. å®‰è£…ä¾èµ–
cd contracts && npm install
cd ../backend && npm install
cd ../frontend && npm install

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘.envæ–‡ä»¶

# 4. éƒ¨ç½²åˆçº¦ï¼ˆæµ‹è¯•ç½‘ï¼‰
cd contracts
npx hardhat run scripts/deploy.js --network testnet

# 5. å¯åŠ¨åç«¯
cd backend
npm run dev

# 6. å¯åŠ¨å‰ç«¯
cd frontend
npm start
```

### ç”Ÿäº§éƒ¨ç½²
```bash
# 1. éƒ¨ç½²åˆçº¦åˆ°ä¸»ç½‘
npx hardhat run scripts/deploy.js --network mainnet

# 2. éªŒè¯åˆçº¦
npx hardhat verify --network mainnet CONTRACT_ADDRESS

# 3. éƒ¨ç½²åç«¯(PM2)
pm2 start npm --name "hcf-backend" -- start

# 4. éƒ¨ç½²å‰ç«¯(Nginx)
npm run build
cp -r build/* /var/www/html/
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- æ–‡æ¡£: https://docs.hcf-defi.com
- Discord: https://discord.gg/hcf-defi
- Telegram: https://t.me/hcf_defi
- Email: support@hcf-defi.com

---

æœ€åæ›´æ–°: 2024-01-15